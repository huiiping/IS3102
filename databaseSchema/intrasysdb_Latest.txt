CREATE TABLE retailer_acc_types (
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(255) UNIQUE NOT NULL,
    num_of_users INT,
    num_of_warehouses INT,
    num_of_stores INT,
    num_of_product_types INT,
    created DATETIME,
    modified DATETIME
);

CREATE TABLE retailers (
    id INT AUTO_INCREMENT PRIMARY KEY,
    retailer_name VARCHAR(255) NOT NULL,
    retailer_desc TEXT,
    account_status VARCHAR(100),
    payment_term VARCHAR(255),
    retailer_email VARCHAR(255) NOT NULL,
    address VARCHAR(255) NOT NULL,
    contact VARCHAR(100) NOT NULL,
    contract_start_date DATETIME NOT NULL,
    contract_end_date DATETIME NOT NULL,
    num_of_users INT,
    num_of_warehouses INT,
    num_of_stores INT,
    num_of_product_types INT,    
    created DATETIME,
    modified DATETIME,
    retailer_acc_type_id INT NOT NULL,
    FOREIGN KEY (retailer_acc_type_id) REFERENCES retailer_acc_types(id)
);

CREATE TABLE intrasys_loggings (
    id INT AUTO_INCREMENT PRIMARY KEY,
    retailer_id INT,
    action VARCHAR(100),
    entity VARCHAR(100),
    entityid INT,
    employee_id INT NOT NULL,
    created DATETIME,
    FOREIGN KEY (retailer_id) REFERENCES retailers(id)
);

CREATE TABLE retailer_loyalty_points (
    id INT AUTO_INCREMENT PRIMARY KEY,
    loyalty_pts INT,
    redemption_pts INT,
    remarks TEXT, 
    created DATETIME,
    modified DATETIME,
    retailer_id INT NOT NULL,
    FOREIGN KEY (retailer_id) REFERENCES retailers(id)
);

CREATE TABLE intrasys_employees (
    id INT AUTO_INCREMENT PRIMARY KEY,
    first_name VARCHAR(255) NOT NULL,
    last_name VARCHAR(255) NOT NULL,
    activation_status VARCHAR(100),
    activation_token VARCHAR(100),
    recovery_status VARCHAR(100),
    recovery_token VARCHAR(100),
    username VARCHAR(255) UNIQUE NOT NULL,
    email VARCHAR(255) NOT NULL,
    password VARCHAR(255) NOT NULL,
    address VARCHAR(255) NOT NULL,
    contact VARCHAR(100) NOT NULL,
    created DATETIME,
    modified DATETIME
);

CREATE TABLE intrasys_employee_roles (
    id INT AUTO_INCREMENT PRIMARY KEY,
    role_name VARCHAR(255) UNIQUE,
    role_desc TEXT,
    created DATETIME,
    modified DATETIME
);

CREATE TABLE announcements (
    id INT AUTO_INCREMENT PRIMARY KEY,
    title VARCHAR(255) NOT NULL,
    message VARCHAR(255) NOT NULL,
    remarks VARCHAR(255),
    created DATETIME,
    modified DATETIME
);

CREATE TABLE intrasys_employees_intrasys_employee_roles (
    intrasys_employee_id INT NOT NULL,
    intrasys_employee_role_id INT NOT NULL,
    PRIMARY KEY (intrasys_employee_id, intrasys_employee_role_id),
    FOREIGN KEY (intrasys_employee_id) REFERENCES intrasys_employees(id),
    FOREIGN KEY (intrasys_employee_role_id) REFERENCES intrasys_employee_roles(id)
);
